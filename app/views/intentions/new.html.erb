<link rel="stylesheet" href="/datetimepicker/themes/classic.css" id="theme_base">
<link rel="stylesheet" href="/datetimepicker/themes/classic.date.css" id="theme_date">
<% content_for :title, "意向录入" %>
<%= render 'form_intention_contact_log' %>
<script type="text/javascript">
  (function() {
    $('.ui.dropdown.contact_type').dropdown();
    $('.ui.dropdown.current_status').dropdown();
    $('.ui.dropdown.student-source-name').dropdown();
    $('.ui.dropdown.user-id').dropdown();
    $('.ui.checkbox.need_contact').checkbox();
    $('.ui.checkbox.create_contact_log').checkbox({
      onChecked: function() {
        $('.follow_create_contact_log').show();
      },
      onUnchecked: function() {
        $('.follow_create_contact_log').hide();
      }
    });

    $('.datepicker').pickadate();
    <% if flash[:alert] %>
    $('.form').addClass('error');
    <% end %>
  })();
</script>
<script type="text/javascript">
  $('.ui.form').form({
    fields: {
      name: {
        identifier: 'student_name',
        rules: [{
          type: 'empty',
          prompt: '请输入姓名'
        }]
      },
      phone: {
        identifier: 'student_phone',
        rules: [{
          type: 'exactLength[11]',
          prompt: '请输入11位手机号码'
        }]
      },
      id_card: {
        identifier: 'student_id_card',
        optional: true,
        rules: [{
          type: 'exactLength[18]',
          prompt: '请输入18位身份证号码'
        }]
      },
      student_intention_source: {
        identifier: 'student_intention_attributes_source',
        rules: [{
          type: 'maxLength[255]',
          prompt: '超出限定长度，只允许输入255个字符！'
        }]
      },
      address: {
        identifier: 'student_address',
        rules: [{
          type: 'maxLength[255]',
          prompt: '超出限定长度，只允许输入255个字符！'
        }]
      },
      unit: {
        identifier: 'student_unit',
        rules: [{
          type: 'maxLength[255]',
          prompt: '超出限定长度，只允许输入255个字符！'
        }]
      }
    }
  });
</script>
